# 2022 IC Design Contest

## <b>題目：</b> Job Assignment Machine

<br>


## <b>說明 ( JAM_ver1 )：</b>

- <b>自訂的變數：</b>
    - ``` reg [6:0] cost_data [0:7][0:7] ```：
        Workers對應Jobs的工作成本表格，為二維陣列、每一個單元有7 bits。

    - ``` reg [2:0] job [0:7] ```：
        第n個Worker的Job = job[n]，為一維陣列、每個單元有3 bits。

    - ``` reg [1:0] state ```：
        儲存目前的執行狀態，"0"：正在輸入、"1"：正在計算、"2"：正在輸出、"3"：(none)。

- <b>初始化：</b>
    - ``` W <= 0 & J <= 0 ```：
        歸零以讓讀入表格資料時，從 (0, 0) 格開始讀入。

    - ``` state <= 0 ```：
        將state歸零，讓電路的狀態從 "正在輸入" 開始。

    - ``` Valid <= 0 ```：
        表示沒有要輸出。

    - ``` MinCost <= 1023 ```：
        將 "最低成本" 設置為可能之最大值，使其與真正計算出來的成本比較後，很容易就能被取代。

    - ``` job[0~7] <= 0~7 ```：
        最初分配給不同工人的工作。

- <b>運作：</b>
    - 輸入狀態 (state = 0)：
        正半週改變W與J，決定要讀入的表格；負半週讀入該格的成本。

    - 計算狀態 (state = 1)：
        正半週執行 (1)比較並更新當前最低成本 (2)更新符合此最低成本的總方法數 (3)使用字典序演算法重新分配工作給工人；
        負半週依照當前分配的工作方法計算成本。

    - 輸出狀態 (state = 2)：
        正半週將電路狀態設為輸出狀態 (題目的附圖是在negedge改變Valid)，負半週將Valid升為1。

<br>


## <b>當前問題：</b>
"計算狀態 (state = 1)"時，大量的數值無法在一個CLK週期內完成相加，因此合成後會出錯。
